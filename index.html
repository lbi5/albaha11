<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>سيرفر الباحة</title>
<link rel="stylesheet" href="styles.css">
<style>
body { margin:0; font-family: Arial; background: linear-gradient(135deg,#0d0d0d,#1a1a1a); color:white; }
nav { position: fixed; top:0; width:100%; background: rgba(0,0,0,0.8); display:flex; justify-content:center; padding:10px 0; z-index:1000; }
nav a { color:white; text-decoration:none; margin:0 15px; font-weight:bold; transition:0.3s; }
nav a:hover { color: cyan; }
#logo-container { margin-top:70px; background: rgba(0,0,0,0.5); padding:50px; border-radius:20px; text-align:center; box-shadow:0 0 30px rgba(0,255,255,0.5); }
#logo-container img { width:250px; height:250px; animation: spin 6s linear infinite; }
@keyframes spin { 0%{transform:rotate(0deg);}100%{transform:rotate(360deg);} }
#logo-container h1 { margin-top:20px; font-size:2rem; color:cyan; }
section { padding:40px 20px; margin:20px auto; max-width:1000px; background: rgba(255,255,255,0.05); border-radius:15px; box-shadow:0 0 15px rgba(0,255,255,0.3); }
h2 { border-bottom:2px solid cyan; padding-bottom:5px; margin-bottom:15px; }
#cars { display:flex; flex-wrap:wrap; gap:15px; }
.car-card { background: rgba(0,255,255,0.1); padding:10px; border-radius:8px; width:200px; text-align:center; transition: transform 0.3s, box-shadow 0.3s; }
.car-card:hover { transform: translateY(-5px); box-shadow:0 0 20px rgba(0,255,255,0.7); }
.contact form { display:flex; flex-direction:column; gap:10px; }
.contact input, .contact textarea, .contact button { padding:10px; border-radius:5px; border:none; }
.contact button { background: cyan; color:black; font-weight:bold; cursor:pointer; transition:0.3s; }
.contact button:hover { background: #00ffffaa; }
footer { background: rgba(0,0,0,0.8); padding:20px; text-align:center; color:white; margin-top:40px; }
footer a { color: cyan; text-decoration:none; margin:0 10px; }
</style>
</head>
<body>

<nav>
  <a href="#rules">القوانين</a>
  <a href="#cars">سيارات المعروض</a>
  <a href="#exclusive">الحصريات</a>
  <a href="#contact">تواصل</a>
  <a href="admin.html">تسجيل دخول</a> <!-- ينقلك مباشرة لصفحة الإدارة -->
</nav>

<div id="logo-container">
  <img src="images/logo.png" alt="Logo">
  <h1>سيرفر منطقة الباحة</h1>
</div>

<section id="rules">
  <h2>القوانين</h2>
  <ul>
    <li>احترام جميع الأعضاء.</li>
    <li>عدم نشر محتوى غير قانوني.</li>
    <li>عدم السب أو التجريح.</li>
    <li>اتباع تعليمات الإدارة.</li>
  </ul>
</section>

<section id="cars">
  <h2>سيارات المعروض</h2>
  <div id="products"></div>
</section>

<section id="exclusive">
  <h2>الحصريات</h2>
  <p>هنا يمكنك متابعة آخر الحصريات والموديلات الخاصة بالسيرفر.</p>
</section>

<section class="contact" id="contact">
  <h2>تواصل مع الإدارة</h2>
  <form id="contactForm">
    <input type="text" name="name" placeholder="الاسم" required>
    <input type="email" name="email" placeholder="الايميل" required>
    <textarea name="message" placeholder="رسالتك" rows="4" required></textarea>
    <button type="submit">إرسال</button>
  </form>
  <p>
    <a href="https://discord.gg/YourServer" target="_blank">انضم إلى Discord</a>
  </p>
</section>

<footer>
  <p>المصممين: عيسى السعد | أحمد الزهراني | تركي الشهري</p>
  <p>تواصل مباشر معهم: 
    <a href="mailto:issa@example.com">عيسى</a> | 
    <a href="mailto:ahmed@example.com">أحمد</a> | 
    <a href="mailto:turki@example.com">تركي</a>
  </p>
</footer>

<script>
// عرض السيارات للزائر
const container = document.getElementById('products');
container.innerHTML = ''; // تأكد من مسح أي محتوى سابق
fetch('/api/products')
  .then(r => r.json())
  .then(items => {
    items.forEach(p=>{
      const div = document.createElement('div');
      div.className='car-card';
      div.innerHTML=`
        ${p.imageUrl? `<img src="${p.imageUrl}" alt="${p.title}" width="150">`:''}
        <h3>${p.title}</h3>
        <p>${p.description}</p>
        <small>${p.specs}</small>
      `;
      container.appendChild(div);
    });
  });

// نموذج التواصل للزائر
document.getElementById('contactForm').addEventListener('submit', function(e){
  e.preventDefault();
  alert('تم إرسال الرسالة! سيتم التواصل معك قريبًا.');
  this.reset();
});
</script>
<!-- قسم السجلات -->
<section id="logs" style="padding:40px; background:#111; color:#fff; text-align:center;">
  <h2>📜 سجل الإداريين</h2>
  <pre id="logsBox" style="background:#000; padding:10px; border-radius:5px; height:200px; overflow:auto;"></pre>
</section>

<script>
  // تحميل السجلات للزوار
  async function loadLogs(){
    const res = await fetch("/api/logs");
    const logs = await res.json();
    let logText = "";
    logs.slice().reverse().forEach(l=>{
      logText += `[${l.time}] ${l.admin} - ${l.action} - ${l.details}\n`;
    });
    document.getElementById("logsBox").textContent = logText;
  }

  loadLogs();
  setInterval(loadLogs, 10000); // تحديث تلقائي كل 10 ثواني
</script>
</body>
</html>